
package main

import (
    "fmt"
    "os/exec"
    "testing"
)

func TestConnectToRouter16(t *testing.T) {
    // Command to log in to bash shell of the container
    loginCommand := "docker exec clab-frrlab-router2 /bin/bash"

    // Execute the command to log in to the bash shell of the container
    loginOutput, err := exec.Command("sh", "-c", loginCommand).CombinedOutput()
    if err != nil {
        fmt.Println("Error logging in to the container:", err)
        return
    }

    // Print the output of the login command
    fmt.Println("Login output:")
    fmt.Println(string(loginOutput))

    // Command to log in to vtysh and show running configuration
    vtyshCommand := "vtysh -c 'show running-config'"

    // Execute the command to log in to vtysh and show running configuration within the container's environment
    vtyshOutput, err := exec.Command("sh", "-c", vtyshCommand).CombinedOutput()
    if err != nil {
        fmt.Println("Error executing vtysh command:", err)
        return
    }

    // Print the output of the vtysh command
    fmt.Println("vtysh output:")
    fmt.Println(string(vtyshOutput))
}
